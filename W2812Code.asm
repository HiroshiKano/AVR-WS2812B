WS2812CODE_ROM:
; ZH:ZL...パターン格納アドレス→終端まで移動
; Bytes...バイト数(3の倍数必要)→0
; WH:WL...ワーク→変動
	CLI
	RJMP	WS2812CODE_ROM_LOAD
WS2812CODE_ROM_EXIT:
	OUT	PORTB,Bit_0	;+6
	SEI
	RET

WS2812CODE_ROM_LOW:
	OUT	PORTB,Bit_0	;+6
	DEC	WH		;+7
	BRNE	WS2812CODE_ROM_OUT	;+8
	LSL	WL		;+9
	OUT	PORTB,Bit_1	;+0
	DEC	Bytes		;+1
	BRCS	PC+2		;+2
	OUT	PORTB,Bit_0	;+3
	BREQ	WS2812CODE_ROM_EXIT	;+4
WS2812CODE_ROM_LOAD:
	LDI	WH,7		;+5
	OUT	PORTB,Bit_0	;+6
	LPM	WL,Z+		;+7
WS2812CODE_ROM_OUT:
	OUT	PORTB,Bit_1	;+0
	LSL	WL		;+1
	BRCS	PC+2		;+2
	OUT	PORTB,Bit_0	;+3
	RJMP	WS2812CODE_ROM_LOW;+4

WS2812CODE_RAM:
; ZH:ZL...パターン格納アドレス→終端まで移動
; Bytes...バイト数(3の倍数必要)→0
; WH:WL...ワーク→変動
	CLI
	RJMP	WS2812CODE_RAM_LOAD
WS2812CODE_RAM_EXIT:
	OUT	PORTB,Bit_0	;+6
	SEI
	RET

WS2812CODE_RAM_LOW:
	OUT	PORTB,Bit_0	;+6
	DEC	WH		;+7
	BRNE	WS2812CODE_RAM_OUT	;+8
	LSL	WL		;+9
	OUT	PORTB,Bit_1	;+0
	DEC	Bytes		;+1
	BRCS	PC+2		;+2
	OUT	PORTB,Bit_0	;+3
	BREQ	WS2812CODE_RAM_EXIT	;+4
WS2812CODE_RAM_LOAD:
	LDI	WH,7		;+5
	OUT	PORTB,Bit_0	;+6
	LD	WL,Z+		;+7
	NOP			;+9
WS2812CODE_RAM_OUT:
	OUT	PORTB,Bit_1	;+0
	LSL	WL		;+1
	BRCS	PC+2		;+2
	OUT	PORTB,Bit_0	;+3
	RJMP	WS2812CODE_RAM_LOW;+4

WS2812CODE_FIX:
; ZL...固定値
; Bytes...バイト数(3の倍数必要)→0
; WH:WL...ワーク→変動
	CLI
	RJMP	WS2812CODE_FIX_LOAD
WS2812CODE_FIX_EXIT:
	OUT	PORTB,Bit_0	;+6
	SEI
	RET

WS2812CODE_FIX_LOW:
	OUT	PORTB,Bit_0	;+6
	DEC	WH		;+7
	BRNE	WS2812CODE_FIX_OUT	;+8
	LSL	WL		;+9
	OUT	PORTB,Bit_1	;+0
	DEC	Bytes		;+1
	BRCS	PC+2		;+2
	OUT	PORTB,Bit_0	;+3
	BREQ	WS2812CODE_FIX_EXIT	;+4
WS2812CODE_FIX_LOAD:
	LDI	WH,7		;+5
	OUT	PORTB,Bit_0	;+6
	MOV	WL,ZL		;+7
	NOP			;+8
	NOP			;+9
WS2812CODE_FIX_OUT:
	OUT	PORTB,Bit_1	;+0
	LSL	WL		;+1
	BRCS	PC+2		;+2
	OUT	PORTB,Bit_0	;+3
	RJMP	WS2812CODE_FIX_LOW;+4

